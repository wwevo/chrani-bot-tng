{%- from 'jinja2_macros.html' import construct_toggle_link with context  -%}
{%- set location_is_enabled = location.is_enabled|default(false) -%}
{%- set location_entry_selected = false -%}
<tr id="manage_locations_table_row_{{ location.identifier }}"{%- if css_class %} class="{{ css_class }}"{%- endif -%}>
    <td>
        <span id="locations_table_row_{{ location.identifier }}_control_select_link" class="select_button">{{ control_select_link }}</span>
    </td>
    <td class="right" id="manage_locations_table_row_{{ location.identifier }}_actions">
        <span id="locations_table_row_{{ location.identifier }}_control_toggle_active_link" class="toggle_button">
        {{ construct_toggle_link(
            location_is_enabled,
            "enabled", ['widget_event', ['locations', ['manage_locations', {"identifier": location.identifier, "action": "disable_location"}]]],
            "enabled", ['widget_event', ['locations', ['manage_locations', {"identifier": location.identifier, "action": "enable_location"}]]]
        ) }}
        </span>
        <span id="locations_table_row_{{ location.identifier }}_control_edit_link" class="edit_button">
        {{ construct_toggle_link(
            True,
            "edit", ['widget_event', ['locations', ['manage_locations', {"identifier": location.identifier, "action": "edit_location"}]]]
        ) }}
        </span>
    </td>
    <td id="manage_locations_table_row_{{ location.identifier }}_name" onclick="$(this).selectText();">{{ location.name }}</td>
    <td id="manage_locations_table_row_{{ location.identifier }}_id" onclick="$(this).selectText();">{{ location.identifier }}</td>
    <td id="manage_locations_table_row_{{ location.identifier }}_origin" onclick="$(this).selectText();">{{ location.origin }}</td>
    <td id="manage_locations_table_row_{{ location.identifier }}_owner" onclick="$(this).selectText();">{{ location.owner }}</td>
    <td id="manage_locations_table_row_{{ location.identifier }}_shape">{{ location.shape }}</td>
    <td id="manage_locations_table_row_{{ location.identifier }}_coordinates" onclick="$(this).selectText();">
        {{ ((location | default({})).coordinates | default({}) ).x | default('0') }}
        {{ ((location | default({})).coordinates | default({}) ).y | default('0') }}
        {{ ((location | default({})).coordinates | default({}) ).z | default('0') }}
    </td>
</tr>
